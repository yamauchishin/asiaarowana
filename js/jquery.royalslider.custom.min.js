(function(b){if(!b.rsModules){b.rsModules={uid:0}}function a(f,g){var x,s=this,y=navigator.userAgent.toLowerCase();s.uid=b.rsModules.uid++;s.ns=".rs"+s.uid;var F=document.createElement("div").style,w=["webkit","Moz","ms","O"],z="",B=0,h;for(x=0;x<w.length;x++){h=w[x];if(!z&&(h+"Transform") in F){z=h}h=h.toLowerCase();if(!window.requestAnimationFrame){window.requestAnimationFrame=window[h+"RequestAnimationFrame"];window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(J,G){var i=new Date().getTime(),H=Math.max(0,16-(i-B)),I=window.setTimeout(function(){J(i+H)},H);B=i+H;return I}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(i){clearTimeout(i)}}s.isIPAD=y.match(/(ipad)/);var A=function(G){var i=/(chrome)[ \/]([\w.]+)/.exec(G)||/(webkit)[ \/]([\w.]+)/.exec(G)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(G)||/(msie) ([\w.]+)/.exec(G)||G.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(G)||[];return{browser:i[1]||"",version:i[2]||"0"}};var m=A(y);var D={};if(m.browser){D[m.browser]=true;D.version=m.version}if(D.chrome){D.webkit=true}s._browser=D;s.isAndroid=y.indexOf("android")>-1;s.slider=b(f);s.ev=b(s);s._doc=b(document);s.st=b.extend({},b.fn.royalSlider.defaults,g);s._currAnimSpeed=s.st.transitionSpeed;s._minPosOffset=0;if(s.st.allowCSS3){if((!D.webkit||s.st.allowCSS3OnWebkit)){var r=z+(z?"T":"t");s._useCSS3Transitions=((r+"ransform") in F)&&((r+"ransition") in F);if(s._useCSS3Transitions){s._use3dTransform=(z+(z?"P":"p")+"erspective") in F}}}z=z.toLowerCase();s._vendorPref="-"+z+"-";s._slidesHorizontal=(s.st.slidesOrientation==="vertical")?false:true;s._reorderProp=s._slidesHorizontal?"left":"top";s._sizeProp=s._slidesHorizontal?"width":"height";s._prevNavItemId=-1;s._isMove=(s.st.transitionType==="fade")?false:true;if(!s._isMove){s.st.sliderDrag=false;s._fadeZIndex=10}s._opacityCSS="z-index:0; display:none; opacity:0;";s._newSlideId=0;s._sPosition=0;s._nextSlidePos=0;b.each(b.rsModules,function(G,i){if(G!=="uid"){i.call(s)}});s.slides=[];s._idCount=0;var u;var c=s.st.slides?b(s.st.slides):s.slider.children().detach();c.each(function(){s._parseNode(this,true)});if(s.st.randomizeSlides){s.slides.sort(function(){return 0.5-Math.random()})}s.numSlides=s.slides.length;s._refreshNumPreloadImages();if(!s.st.startSlideId){s.st.startSlideId=0}else{if(s.st.startSlideId>s.numSlides-1){s.st.startSlideId=s.numSlides-1}}s._newSlideId=s.staticSlideId=s.currSlideId=s._realId=s.st.startSlideId;s.currSlide=s.slides[s.currSlideId];s._accelerationPos=0;s.msTouch=false;s.slider.addClass((s._slidesHorizontal?"rsHor":"rsVer")+(s._isMove?"":" rsFade"));var n='<div class="rsOverflow"><div class="rsContainer">';s.slidesSpacing=s.st.slidesSpacing;s._slideSize=(s._slidesHorizontal?s.slider.width():s.slider.height())+s.st.slidesSpacing;s._preload=Boolean(s._numPreloadImages>0);if(s.numSlides<=1){s._loop=false}var v=(s._loop&&s._isMove)?(s.numSlides===2?1:2):0;s._loopHelpers=v;s._maxImages=s.numSlides<6?s.numSlides:6;s._currBlockIndex=0;s._idOffset=0;s.slidesJQ=[];for(x=0;x<s.numSlides;x++){s.slidesJQ.push(b(C(x)))}s._sliderOverflow=n=b(n+"</div></div>");var E=function(){if(s.st.sliderDrag){s._hasDrag=true;if(D.msie||D.opera){s._grabCursor=s._grabbingCursor="move"}else{if(D.mozilla){s._grabCursor="-moz-grab";s._grabbingCursor="-moz-grabbing"}else{if(D.webkit&&(navigator.platform.indexOf("Mac")!=-1)){s._grabCursor="-webkit-grab";s._grabbingCursor="-webkit-grabbing"}}}s._setGrabCursor()}};var l=s.ns;var q=function(G,J,H,i,I){s._downEvent=G+J+l;s._moveEvent=G+H+l;s._upEvent=G+i+l;if(I){s._cancelEvent=G+I+l}};s.msEnabled=window.navigator.msPointerEnabled;if(s.msEnabled){s.msTouch=Boolean(window.navigator.msMaxTouchPoints>1);s.hasTouch=false;s._lastItemFriction=0.2;q("MSPointer","Down","Move","Up","Cancel")}else{q("mouse","down","move","up","up");if("ontouchstart" in window||"createTouch" in document){s.hasTouch=true;s._downEvent+=" touchstart"+l;s._moveEvent+=" touchmove"+l;s._upEvent+=" touchend"+l;s._cancelEvent+=" touchcancel"+l;s._lastItemFriction=0.5;if(s.st.sliderTouch){s._hasDrag=true}}else{s.hasTouch=false;s._lastItemFriction=0.2}}E();s.slider.html(n);s._controlsContainer=s.st.controlsInside?s._sliderOverflow:s.slider;s._slidesContainer=s._sliderOverflow.children(".rsContainer");if(s.msEnabled){s._slidesContainer.css("-ms-touch-action",s._slidesHorizontal?"pan-y":"pan-x")}s._preloader=b('<div class="rsPreloader"></div>');var t=s._slidesContainer.children(".rsSlide");s._currHolder=s.slidesJQ[s.currSlideId];s._selectedSlideHolder=0;function C(G,H){return'<div style="'+(s._isMove?"":(G!==s.currSlideId?s._opacityCSS:"z-index:0;"))+'" class="rsSlide '+(H||"")+'"></div>'}if(s._useCSS3Transitions){s._TP="transition-property";s._TD="transition-duration";s._TTF="transition-timing-function";s._yProp=s._xProp=s._vendorPref+"transform";if(s._use3dTransform){if(D.webkit&&!D.chrome){s.slider.addClass("rsWebkit3d")}if(s.hasTouch||s.msTouch){s._tPref1="translate3d(";s._tPref2="px, ";s._tPref3="px, 0px)"}}else{s._tPref1="translate(";s._tPref2="px, ";s._tPref3="px)"}if(!s._isMove){var d={};d[(s._vendorPref+s._TP)]="opacity";d[(s._vendorPref+s._TD)]=s.st.transitionSpeed+"ms";d[(s._vendorPref+s._TTF)]=s.st.css3easeInOut;t.css(d)}else{s._slidesContainer[(s._vendorPref+s._TP)]=(s._vendorPref+"transform")}}else{s._xProp="left";s._yProp="top"}var e;b(window).on("resize"+s.ns,function(){if(e){clearTimeout(e)}e=setTimeout(function(){s.updateSliderSize()},50)});s.ev.trigger("rsAfterPropsSetup");s.updateSliderSize();if(s.st.keyboardNavEnabled){s._bindKeyboardNav()}if(s.st.arrowsNavHideOnTouch&&(s.hasTouch||s.msTouch)){s.st.arrowsNav=false}if(s.st.arrowsNav){var k="rsArrow",p=s._controlsContainer;b('<div class="'+k+" "+k+'Left"><div class="'+k+'Icn"></div></div><div class="'+k+" "+k+'Right"><div class="'+k+'Icn"></div></div>').appendTo(p);s._arrowLeft=p.children("."+k+"Left").click(function(i){i.preventDefault();s.prev()});s._arrowRight=p.children("."+k+"Right").click(function(i){i.preventDefault();s.next()});if(s.st.arrowsNavAutoHide&&!s.hasTouch){s._arrowLeft.addClass("rsHidden");s._arrowRight.addClass("rsHidden");var o=p;o.one("mousemove.arrowshover",function(){s._arrowLeft.removeClass("rsHidden");s._arrowRight.removeClass("rsHidden")});o.hover(function(){if(!s._arrowsAutoHideLocked){s._arrowLeft.removeClass("rsHidden");s._arrowRight.removeClass("rsHidden")}},function(){if(!s._arrowsAutoHideLocked){s._arrowLeft.addClass("rsHidden");s._arrowRight.addClass("rsHidden")}})}s.ev.on("rsOnUpdateNav",function(){s._updateArrowsNav()});s._updateArrowsNav()}if(s._hasDrag){s._slidesContainer.on(s._downEvent,function(i){s._onDragStart(i)})}else{s.dragSuccess=false}var j=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];s._slidesContainer.click(function(G){if(!s.dragSuccess){var i=b(G.target);var H=i.attr("class");if(b.inArray(H,j)!==-1){if(s.toggleVideo()){return false}}if(s.st.navigateByClick&&!s._blockActions){if(b(G.target).closest(".rsNoDrag",s._currHolder).length){return true}s._mouseNext(G)}s.ev.trigger("rsSlideClick")}}).on("click.rs","a",function(i){if(s.dragSuccess){return false}else{s._blockActions=true;setTimeout(function(){s._blockActions=false},3)}});s.ev.trigger("rsAfterInit")}a.prototype={constructor:a,_mouseNext:function(f){var c=this,d=f[c._slidesHorizontal?"pageX":"pageY"]-c._sliderOffset;if(d>=c._nextSlidePos){c.next()}else{if(d<0){c.prev()}}},_refreshNumPreloadImages:function(){var c=this,d;d=c.st.numImagesToPreload;c._loop=c.st.loop;if(c._loop){if(c.numSlides===2){c._loop=false;c.st.loopRewind=true}else{if(c.numSlides<2){c.st.loopRewind=c._loop=false}}}if(c._loop&&d>0){if(c.numSlides<=4){d=1}else{if(c.st.numImagesToPreload>(c.numSlides-1)/2){d=Math.floor((c.numSlides-1)/2)}}}c._numPreloadImages=d},_parseNode:function(h,c){var j=this,k,e,d,f={},l,g=true;h=b(h);j._currContent=h;j.ev.trigger("rsBeforeParseNode",[h,f]);if(f.stopParsing){return}h=j._currContent;f.id=j._idCount;f.contentAdded=false;j._idCount++;f.images=[];f.isBig=false;if(!f.hasCover){if(h.hasClass("rsImg")){l=h;k=true}else{l=h.find(".rsImg");if(l.length){k=true}}if(k){f.bigImage=l.eq(0).attr("data-rsBigImg");l.each(function(){var m=b(this);if(m.is("a")){i(m,"href")}else{if(m.is("img")){i(m,"src")}else{i(m)}}})}else{if(h.is("img")){h.addClass("rsImg rsMainSlideImage");i(h,"src")}}}l=h.find(".rsCaption");if(l.length){f.caption=l.remove()}f.content=h;j.ev.trigger("rsAfterParseNode",[h,f]);function i(p,o){if(o){f.images.push(p.attr(o))}else{f.images.push(p.text())}if(g){g=false;f.caption=(o==="src")?p.attr("alt"):p.contents();f.image=f.images[0];f.videoURL=p.attr("data-rsVideo");var m=p.attr("data-rsw"),n=p.attr("data-rsh");if(typeof m!=="undefined"&&m!==false&&typeof n!=="undefined"&&n!==false){f.iW=parseInt(m);f.iH=parseInt(n)}else{if(j.st.imgWidth&&j.st.imgHeight){f.iW=j.st.imgWidth;f.iH=j.st.imgHeight}}}}if(c){j.slides.push(f)}if(f.images.length===0){f.isLoaded=true;f.isRendered=false;f.isLoading=false;f.images=null}return f},_bindKeyboardNav:function(){var e=this,d,f,c=function(g){if(g===37){e.prev()}else{if(g===39){e.next()}}};e._doc.on("keydown"+e.ns,function(g){if(!e._isDragging){f=g.keyCode;if(f===37||f===39){if(!d){c(f);d=setInterval(function(){c(f)},700)}}}}).on("keyup"+e.ns,function(g){if(d){clearInterval(d);d=null}})},goTo:function(e,d){var c=this;if(e!==c.currSlideId){c._moveTo(e,c.st.transitionSpeed,true,!d)}},destroy:function(c){var d=this;d.ev.trigger("rsBeforeDestroy");d._doc.off("keydown"+d.ns+" keyup"+d.ns+" "+d._moveEvent+" "+d._upEvent);d._slidesContainer.off(d._downEvent+" click");d.slider.data("royalSlider",null);b.removeData(d.slider,"royalSlider");b(window).off("resize"+d.ns);if(c){d.slider.remove()}d.slides=null;d.slider=null;d.ev=null},_updateBlocksContent:function(F,p){var r=this,y,w,t,C,l,m,x,A=r._loop,z=r.numSlides;if(!isNaN(p)){return D(p)}var s=r.currSlideId;var h;var q=F?(Math.abs(r._prevSlideId-r.currSlideId)>=r.numSlides-1?0:1):r._numPreloadImages;var j=Math.min(2,q);var c=false;var B=false;var o;for(w=s;w<s+1+j;w++){o=D(w);y=r.slides[o];if(y&&(!y.isAdded||!y.positionSet)){c=true;break}}for(w=s-1;w>s-1-j;w--){o=D(w);y=r.slides[o];if(y&&(!y.isAdded||!y.positionSet)){B=true;break}}if(c){for(w=s;w<s+q+1;w++){o=D(w);h=Math.floor((r._realId-(s-w))/r.numSlides)*r.numSlides;y=r.slides[o];if(y){e(y,o)}}}if(B){for(w=s-1;w>s-1-q;w--){o=D(w);h=Math.floor((r._realId-(s-w))/z)*z;y=r.slides[o];if(y){e(y,o)}}}if(!F){var g=s;var f=q;var u=D(s-q);var v=D(s+q);var d=u>v?0:u;for(w=0;w<z;w++){if(u>v){if(w>u-1){continue}}if(w<d||w>v){y=r.slides[w];if(y&&y.holder){y.holder.detach();y.isAdded=false}}}}function e(H,n,G){if(!H.isAdded){if(!G){G=r.slidesJQ[n]}if(!H.holder){G=r.slidesJQ[n]=b(G);H.holder=G}else{G=H.holder}H.appendOnLoaded=false;k(n,H,G);E(n,H);r._addBlockToContainer(H,G,F);H.isAdded=true;appended=true}else{E(n,H);k(n,H)}}function E(n,G){if(!G.contentAdded){r.setItemHtml(G,F);if(!F){G.contentAdded=true}}}function k(n,H,G){if(r._isMove){if(!G){G=r.slidesJQ[n]}G.css(r._reorderProp,(n+r._idOffset+h)*r._slideSize)}}function D(i){var n=false;if(A){if(i>z-1){return D(i-z)}else{if(i<0){return D(z+i)}}}return i}},setItemHtml:function(i,g){var m=this;if(i.isLoaded){f();return}else{if(g){d()}else{e()}}function e(){if(!i.images){i.isRendered=true;i.isLoaded=true;i.isLoading=false;f(true);return}if(i.isLoading){return}var p,n;if(i.content.hasClass("rsImg")){p=i.content;n=true}else{p=i.content.find(".rsImg:not(img)")}if(p&&!p.is("img")){p.each(function(){var s=b(this),t='<img class="rsImg" src="'+(s.is("a")?s.attr("href"):s.text())+'" />';if(!n){s.replaceWith(t)}else{i.content=b(t)}})}p=n?i.content:i.content.find("img.rsImg");l();p.eq(0).addClass("rsMainSlideImage");if(i.iW&&i.iH){if(!i.isLoaded){m._resizeImage(i)}f()}i.isLoading=true;var r;if(i.isBig){b("<img />").on("load.rs error.rs",function(s){k([this],true)}).attr("src",i.image)}else{i.loaded=[];i.imgLoaders=[];for(var o=0;o<i.images.length;o++){var q=b("<img />");i.imgLoaders.push(this);q.on("load.rs error.rs",function(s){i.loaded.push(this);if(i.loaded.length===i.imgLoaders.length){k(i.loaded,false)}}).attr("src",i.images[o])}}}function k(p,q){if(p.length){var o=p[0],r=o.src;if(q!==i.isBig){var s=i.holder.children();if(s&&s.length>1){h()}return}if(i.iW&&i.iH){j();return}i.iW=o.width;i.iH=o.height;if(i.iW&&i.iH){j();return}else{var n=new Image();n.onload=function(){if(n.width){i.iW=n.width;i.iH=n.height;j()}else{setTimeout(function(){if(n.width){i.iW=n.width;i.iH=n.height}j()},1000)}};n.src=o.src}}else{j()}}function j(){i.isLoaded=true;i.isLoading=false;f();h();c()}function d(){if(!m._isMove&&i.images&&i.iW&&i.iH){e();return}i.holder.isWaiting=true;l();i.holder.slideId=-99}function f(){if(!i.isAppended){var n=m.st.visibleNearby,p=i.id-m._newSlideId;if(!g&&!i.appendOnLoaded&&m.st.fadeinLoadedSlide&&(p===0||((n||m._isAnimating||m._isDragging)&&(p===-1||p===1)))){var o={visibility:"visible",opacity:0};o[m._vendorPref+"transition"]="opacity 400ms ease-in-out";i.content.css(o);setTimeout(function(){i.content.css("opacity",1)},16)}if(i.holder.find(".rsPreloader").length){i.holder.append(i.content)}else{i.holder.html(i.content)}i.isAppended=true;if(i.isLoaded){m._resizeImage(i);c()}if(!i.sizeReady){i.sizeReady=true;setTimeout(function(){m.ev.trigger("rsMaybeSizeReady",i)},100)}}}function c(){if(!i.loadedTriggered){i.isLoaded=i.loadedTriggered=true;i.holder.trigger("rsAfterContentSet");m.ev.trigger("rsAfterContentSet",i)}}function l(){if(m.st.usePreloader){i.holder.html(m._preloader.clone())}}function h(o){if(m.st.usePreloader){var n=i.holder.find(".rsPreloader");if(n.length){n.remove()}}}},_addBlockToContainer:function(i,h,c){var e=this;var f=i.holder;var g=i.id-e._newSlideId;var d=false;e._slidesContainer.append(f);i.appendOnLoaded=false},_onDragStart:function(i,j){var f=this,c,g,d=(i.type==="touchstart");f._isTouchGesture=d;f.ev.trigger("rsDragStart");if(b(i.target).closest(".rsNoDrag",f._currHolder).length){f.dragSuccess=false;return true}if(!j){if(f._isAnimating){f._wasAnimating=true;f._stopAnimation()}}f.dragSuccess=false;if(f._isDragging){if(d){f._multipleTouches=true}return}else{if(d){f._multipleTouches=false}}f._setGrabbingCursor();if(d){var h=i.originalEvent.touches;if(h&&h.length>0){c=h[0];if(h.length>1){f._multipleTouches=true}}else{return}}else{i.preventDefault();c=i;if(f.msEnabled){c=c.originalEvent}}f._isDragging=true;f._doc.on(f._moveEvent,function(k){f._onDragMove(k,j)}).on(f._upEvent,function(k){f._onDragRelease(k,j)});f._currMoveAxis="";f._hasMoved=false;f._pageX=c.pageX;f._pageY=c.pageY;f._startPagePos=f._accelerationPos=(!j?f._slidesHorizontal:f._thumbsHorizontal)?c.pageX:c.pageY;f._horDir=0;f._verDir=0;f._currRenderPosition=!j?f._sPosition:f._thumbsPosition;f._startTime=new Date().getTime();if(d){f._sliderOverflow.on(f._cancelEvent,function(k){f._onDragRelease(k,j)})}},_renderMovement:function(m,e){var n=this;if(n._checkedAxis){var i=n._renderMoveTime,j=m.pageX-n._pageX,g=m.pageY-n._pageY,c=n._currRenderPosition+j,o=n._currRenderPosition+g,l=(!e?n._slidesHorizontal:n._thumbsHorizontal),k=l?c:o,d=n._currMoveAxis;n._hasMoved=true;n._pageX=m.pageX;n._pageY=m.pageY;if(d==="x"&&j!==0){n._horDir=j>0?1:-1}else{if(d==="y"&&g!==0){n._verDir=g>0?1:-1}}var f=l?n._pageX:n._pageY,h=l?j:g;if(!e){if(!n._loop){if(n.currSlideId<=0){if(f-n._startPagePos>0){k=n._currRenderPosition+h*n._lastItemFriction}}if(n.currSlideId>=n.numSlides-1){if(f-n._startPagePos<0){k=n._currRenderPosition+h*n._lastItemFriction}}}}else{if(k>n._thumbsMinPosition){k=n._currRenderPosition+h*n._lastItemFriction}else{if(k<n._thumbsMaxPosition){k=n._currRenderPosition+h*n._lastItemFriction}}}n._currRenderPosition=k;if(i-n._startTime>200){n._startTime=i;n._accelerationPos=f}if(!e){if(n._isMove){n._setPosition(n._currRenderPosition)}}else{n._setThumbsPosition(n._currRenderPosition)}}},_onDragMove:function(i,c){var l=this,k,f=(i.type==="touchmove");if(l._isTouchGesture&&!f){return}if(f){if(l._lockAxis){return}var h=i.originalEvent.touches;if(h){if(h.length>1){return}else{k=h[0]}}else{return}}else{k=i;if(l.msEnabled){k=k.originalEvent}}if(!l._hasMoved){if(l._useCSS3Transitions){(!c?l._slidesContainer:l._thumbsContainer).css((l._vendorPref+l._TD),"0s")}(function g(){if(l._isDragging){l._animFrame=requestAnimationFrame(g);if(l._renderMoveEvent){l._renderMovement(l._renderMoveEvent,c)}}})()}if(!l._checkedAxis){var d=(!c?l._slidesHorizontal:l._thumbsHorizontal),j=(Math.abs(k.pageX-l._pageX)-Math.abs(k.pageY-l._pageY))-(d?-7:7);if(j>7){if(d){i.preventDefault();l._currMoveAxis="x"}else{if(f){l._completeGesture();return}}l._checkedAxis=true}else{if(j<-7){if(!d){i.preventDefault();l._currMoveAxis="y"}else{if(f){l._completeGesture();return}}l._checkedAxis=true}}return}i.preventDefault();l._renderMoveTime=new Date().getTime();l._renderMoveEvent=k},_completeGesture:function(){var c=this;c._lockAxis=true;c._hasMoved=c._isDragging=false;c._onDragRelease()},_onDragRelease:function(F,w){var y=this,v,D,c,l,k,h,o,g,u=(F.type==="touchend"||F.type==="touchcancel");if(y._isTouchGesture&&!u){return}y._isTouchGesture=false;y.ev.trigger("rsDragRelease");y._renderMoveEvent=null;y._isDragging=false;y._lockAxis=false;y._checkedAxis=false;y._renderMoveTime=0;cancelAnimationFrame(y._animFrame);if(y._hasMoved){if(!w){if(y._isMove){y._setPosition(y._currRenderPosition)}}else{y._setThumbsPosition(y._currRenderPosition)}}y._doc.off(y._moveEvent).off(y._upEvent);if(u){y._sliderOverflow.off(y._cancelEvent)}y._setGrabCursor();if(!y._hasMoved&&!y._multipleTouches){if(w&&y._thumbsEnabled){var G=b(F.target).closest(".rsNavItem");if(G.length){y.goTo(G.index())}return}}var t=(!w?y._slidesHorizontal:y._thumbsHorizontal);if(!y._hasMoved||(y._currMoveAxis==="y"&&t)||(y._currMoveAxis==="x"&&!t)){if(!w&&y._wasAnimating){y._wasAnimating=false;if(!y.st.navigateByClick){y.dragSuccess=true}else{y._mouseNext((y.msEnabled?F.originalEvent:F));y.dragSuccess=true;return}}else{y._wasAnimating=false;y.dragSuccess=false;return}}else{y.dragSuccess=true}y._wasAnimating=false;y._currMoveAxis="";function f(e){if(e<100){return 100}else{if(e>500){return 500}}return e}function s(J,e){if(y._isMove||w){k=(-y._realId-y._idOffset)*y._slideSize;h=Math.abs(y._sPosition-k);y._currAnimSpeed=h/e;if(J){y._currAnimSpeed+=250}y._currAnimSpeed=f(y._currAnimSpeed);y._animateTo(k,false)}}var m=y.st.minSlideOffset,A=u?F.originalEvent.changedTouches[0]:(y.msEnabled?F.originalEvent:F),p=t?A.pageX:A.pageY,B=y._startPagePos,r=y._accelerationPos,C=y.currSlideId,I=y.numSlides,z=t?y._horDir:y._verDir,H=y._loop,x=false,d=0;v=Math.abs(p-B);D=p-r;c=(new Date().getTime())-y._startTime;l=Math.abs(D)/c;if(z===0||I<=1){s(true,l);return}if(!H&&!w){if(C<=0){if(z>0){s(true,l);return}}else{if(C>=I-1){if(z<0){s(true,l);return}}}}if(!w){if(B+m<p){if(z<0){s(false,l);return}y._moveTo("prev",f(Math.abs(y._sPosition-(-y._realId-y._idOffset+1)*y._slideSize)/l),x,true,true)}else{if(B-m>p){if(z>0){s(false,l);return}y._moveTo("next",f(Math.abs(y._sPosition-(-y._realId-y._idOffset-1)*y._slideSize)/l),x,true,true)}else{s(false,l)}}}else{var k=y._thumbsPosition;var j;if(k>y._thumbsMinPosition){k=y._thumbsMinPosition}else{if(k<y._thumbsMaxPosition){k=y._thumbsMaxPosition}else{var q=0.003,n=(l*l)/(q*2),E=-y._thumbsPosition,i=y._thumbsContainerSize-y._thumbsViewportSize+y._thumbsPosition;if(D>0&&n>E){E=E+y._thumbsViewportSize/(15/(n/l*q));l=l*E/n;n=E}else{if(D<0&&n>i){i=i+y._thumbsViewportSize/(15/(n/l*q));l=l*i/n;n=i}}j=Math.max(Math.round(l/q),50);k=k+n*(D<0?-1:1);if(k>y._thumbsMinPosition){y._animateThumbsTo(k,j,true,y._thumbsMinPosition,200);return}else{if(k<y._thumbsMaxPosition){y._animateThumbsTo(k,j,true,y._thumbsMaxPosition,200);return}}}}y._animateThumbsTo(k,j,true)}},_setPosition:function(d){var c=this;d=c._sPosition=d;if(c._useCSS3Transitions){c._slidesContainer.css(c._xProp,c._tPref1+(c._slidesHorizontal?(d+c._tPref2+0):(0+c._tPref2+d))+c._tPref3)}else{c._slidesContainer.css(c._slidesHorizontal?c._xProp:c._yProp,d)}},updateSliderSize:function(d){var m=this,g,c;if(m.st.autoScaleSlider){var k=m.st.autoScaleSliderWidth,j=m.st.autoScaleSliderHeight;if(m.st.autoScaleHeight){g=m.slider.width();if(g!=m.width){m.slider.css("height",g*(j/k));g=m.slider.width()}c=m.slider.height()}else{c=m.slider.height();if(c!=m.height){m.slider.css("width",c*(k/j));c=m.slider.height()}g=m.slider.width()}}else{g=m.slider.width();c=m.slider.height()}if(d||g!=m.width||c!=m.height){m.width=g;m.height=c;m._wrapWidth=g;m._wrapHeight=c;m.ev.trigger("rsBeforeSizeSet");m.ev.trigger("rsAfterSizePropSet");m._sliderOverflow.css({width:m._wrapWidth,height:m._wrapHeight});m._slideSize=(m._slidesHorizontal?m._wrapWidth:m._wrapHeight)+m.st.slidesSpacing;m._imagePadding=m.st.imageScalePadding;var l,h,f,e;for(f=0;f<m.slides.length;f++){l=m.slides[f];l.positionSet=false;if(l&&l.images&&l.isLoaded){l.isRendered=false;m._resizeImage(l)}}if(m._cloneHolders){for(f=0;f<m._cloneHolders.length;f++){l=m._cloneHolders[f];l.holder.css(m._reorderProp,(l.id+m._idOffset)*m._slideSize)}}m._updateBlocksContent();if(m._isMove){if(m._useCSS3Transitions){m._slidesContainer.css(m._vendorPref+"transition-duration","0s")}m._setPosition((-m._realId-m._idOffset)*m._slideSize)}m.ev.trigger("rsOnUpdateNav")}m._sliderOffset=m._sliderOverflow.offset();m._sliderOffset=m._sliderOffset[m._reorderProp]},appendSlide:function(d,e){var c=this,f=c._parseNode(d);if(isNaN(e)||e>c.numSlides){e=c.numSlides}c.slides.splice(e,0,f);c.slidesJQ.splice(e,0,'<div style="'+(c._isMove?"position:absolute;":c._opacityCSS)+'" class="rsSlide"></div>');if(e<c.currSlideId){c.currSlideId++}c.ev.trigger("rsOnAppendSlide",[f,e]);c._refreshSlides(e);if(e===c.currSlideId){c.ev.trigger("rsAfterSlideChange")}},removeSlide:function(e){var d=this,c=d.slides[e];if(c){if(c.holder){c.holder.remove()}if(e<d.currSlideId){d.currSlideId--}d.slides.splice(e,1);d.slidesJQ.splice(e,1);d.ev.trigger("rsOnRemoveSlide",[e]);d._refreshSlides(e);if(e===d.currSlideId){d.ev.trigger("rsAfterSlideChange")}}},_refreshSlides:function(f){var d=this;var c=d.numSlides;var e=d._realId<=0?0:Math.floor(d._realId/c);d.numSlides=d.slides.length;if(d.numSlides===0){d.currSlideId=d._idOffset=d._realId=0;d.currSlide=d._oldHolder=null}else{d._realId=e*d.numSlides+d.currSlideId}for(var g=0;g<d.numSlides;g++){d.slides[g].id=g}d.currSlide=d.slides[d.currSlideId];d._currHolder=d.slidesJQ[d.currSlideId];if(d.currSlideId>=d.numSlides){d.goTo(d.numSlides-1)}else{if(d.currSlideId<0){d.goTo(0)}}d._refreshNumPreloadImages();if(d._isMove&&d._loop){d._slidesContainer.css((d._vendorPref+d._TD),"0ms")}if(d._refreshSlidesTimeout){clearTimeout(d._refreshSlidesTimeout)}d._refreshSlidesTimeout=setTimeout(function(){if(d._isMove){d._setPosition((-d._realId-d._idOffset)*d._slideSize)}d._updateBlocksContent();if(!d._isMove){d._currHolder.css({display:"block",opacity:1})}},14);d.ev.trigger("rsOnUpdateNav")},_setGrabCursor:function(){var c=this;if(c._hasDrag&&c._isMove){if(c._grabCursor){c._sliderOverflow.css("cursor",c._grabCursor)}else{c._sliderOverflow.removeClass("grabbing-cursor");c._sliderOverflow.addClass("grab-cursor")}}},_setGrabbingCursor:function(){var c=this;if(c._hasDrag&&c._isMove){if(c._grabbingCursor){c._sliderOverflow.css("cursor",c._grabbingCursor)}else{c._sliderOverflow.removeClass("grab-cursor");c._sliderOverflow.addClass("grabbing-cursor")}}},next:function(d){var c=this;c._moveTo("next",c.st.transitionSpeed,true,!d)},prev:function(d){var c=this;c._moveTo("prev",c.st.transitionSpeed,true,!d)},_moveTo:function(g,u,h,m,r){var o=this,f,x,t;o.ev.trigger("rsBeforeMove",[g,m]);if(g==="next"){newItemId=o.currSlideId+1}else{if(g==="prev"){newItemId=o.currSlideId-1}else{newItemId=g=parseInt(g,10)}}if(!o._loop){if(newItemId<0){o._doBackAndForthAnim("left",!m);return}else{if(newItemId>=o.numSlides){o._doBackAndForthAnim("right",!m);return}}}if(o._isAnimating){o._stopAnimation(true);h=false}x=newItemId-o.currSlideId;o._prevSlideId=o.currSlideId;var e=o.currSlideId;var p=o.currSlideId+x;var j=o._realId;var w;var s;if(o._loop){p=o._updateBlocksContent(false,p);j+=x}else{j=p}o._newSlideId=p;o._oldHolder=o.slidesJQ[o.currSlideId];o._realId=j;o.currSlideId=o._newSlideId;o.currSlide=o.slides[o.currSlideId];o._currHolder=o.slidesJQ[o.currSlideId];var d=o.st.slidesDiff;var q=Boolean(x>0);var n=Math.abs(x);var c=Math.floor(e/o._numPreloadImages);var z=Math.floor((e+(q?d:-d))/o._numPreloadImages);var y=q?Math.max(c,z):Math.min(c,z);var v=y*o._numPreloadImages+(q?(o._numPreloadImages-1):0);if(v>o.numSlides-1){v=o.numSlides-1}else{if(v<0){v=0}}var k=q?(v-e):(e-v);if(k>o._numPreloadImages){k=o._numPreloadImages}if(n>k+d){o._idOffset+=(n-(k+d))*(q?-1:1);u=u*1.4;for(t=0;t<o.numSlides;t++){o.slides[t].positionSet=false}}o._currAnimSpeed=u;o._updateBlocksContent(true);if(!r){s=true}f=(-j-o._idOffset)*o._slideSize;if(s){setTimeout(function(){o._isWorking=false;o._animateTo(f,g,false,h);o.ev.trigger("rsOnUpdateNav")},0)}else{o._animateTo(f,g,false,h);o.ev.trigger("rsOnUpdateNav")}function l(i){if(i<0){i=o.numSlides+i}else{if(i>o.numSlides-1){i=i-o.numSlides}}if(i!==o.currSlideId){return false}return true}},_updateArrowsNav:function(){var c=this,d="rsArrowDisabled";if(c.st.arrowsNav){if(c.numSlides<=1){c._arrowLeft.css("display","none");c._arrowRight.css("display","none");return}else{c._arrowLeft.css("display","block");c._arrowRight.css("display","block")}if(!c._loop&&!c.st.loopRewind){if(c.currSlideId===0){c._arrowLeft.addClass(d)}else{c._arrowLeft.removeClass(d)}if(c.currSlideId===c.numSlides-1){c._arrowRight.addClass(d)}else{c._arrowRight.removeClass(d)}}}},_animateTo:function(m,e,c,k,g){var o=this,h,j,l;var d={};if(isNaN(o._currAnimSpeed)){o._currAnimSpeed=400}o._sPosition=o._currRenderPosition=m;o.ev.trigger("rsBeforeAnimStart");if(!o._useCSS3Transitions){if(o._isMove){d[o._slidesHorizontal?o._xProp:o._yProp]=m+"px";o._slidesContainer.animate(d,o._currAnimSpeed,k?o.st.easeInOut:o.st.easeOut)}else{j=o._oldHolder;l=o._currHolder;l.stop(true,true).css({opacity:0,display:"block",zIndex:o._fadeZIndex});o._currAnimSpeed=o.st.transitionSpeed;l.animate({opacity:1},o._currAnimSpeed,o.st.easeInOut);n();if(j){j.data("rsTimeout",setTimeout(function(){j.stop(true,true).css({opacity:0,display:"none",zIndex:0})},o._currAnimSpeed+60))}}}else{if(o._isMove){o._currAnimSpeed=parseInt(o._currAnimSpeed);var f=o._vendorPref+o._TD;var i=o._vendorPref+o._TTF;d[f]=o._currAnimSpeed+"ms";d[i]=k?b.rsCSS3Easing[o.st.easeInOut]:b.rsCSS3Easing[o.st.easeOut];o._slidesContainer.css(d);if(k||!o.hasTouch){setTimeout(function(){o._setPosition(m)},5)}else{o._setPosition(m)}}else{o._currAnimSpeed=o.st.transitionSpeed;j=o._oldHolder;l=o._currHolder;if(l.data("rsTimeout")){l.css("opacity",0)}n();if(j){j.data("rsTimeout",setTimeout(function(){d[o._vendorPref+o._TD]="0ms";d.zIndex=0;d.display="none";j.data("rsTimeout","");j.css(d);setTimeout(function(){j.css("opacity",0)},16)},o._currAnimSpeed+60))}d.display="block";d.zIndex=o._fadeZIndex;d.opacity=0;d[o._vendorPref+o._TD]="0ms";d[o._vendorPref+o._TTF]=b.rsCSS3Easing[o.st.easeInOut];l.css(d);l.data("rsTimeout",setTimeout(function(){l.css(o._vendorPref+o._TD,o._currAnimSpeed+"ms");l.data("rsTimeout",setTimeout(function(){l.css("opacity",1);l.data("rsTimeout","")},20))},20))}}o._isAnimating=true;if(o.loadingTimeout){clearTimeout(o.loadingTimeout)}if(g){o.loadingTimeout=setTimeout(function(){o.loadingTimeout=null;g.call()},o._currAnimSpeed+60)}else{o.loadingTimeout=setTimeout(function(){o.loadingTimeout=null;o._animationComplete(e)},o._currAnimSpeed+60)}function n(){var p;if(j){p=j.data("rsTimeout");if(p){if(j!==l){j.css({opacity:0,display:"none",zIndex:0})}clearTimeout(p);j.data("rsTimeout","")}}p=l.data("rsTimeout");if(p){clearTimeout(p);l.data("rsTimeout","")}}},_stopAnimation:function(f){var c=this;c._isAnimating=false;clearTimeout(c.loadingTimeout);if(c._isMove){if(!c._useCSS3Transitions){c._slidesContainer.stop(true);c._sPosition=parseInt(c._slidesContainer.css(c._xProp),10)}else{if(!f){var d=c._sPosition;var e=c._currRenderPosition=c._getTransformProp();c._slidesContainer.css((c._vendorPref+c._TD),"0ms");if(d!==e){c._setPosition(e)}}}}else{if(c._fadeZIndex>20){c._fadeZIndex=10}else{c._fadeZIndex++}}},_getTransformProp:function(){var d=this,e=window.getComputedStyle(d._slidesContainer.get(0),null).getPropertyValue(d._vendorPref+"transform"),c=e.replace(/^matrix\(/i,"").split(/, |\)$/g),f=(c[0].indexOf("matrix3d")===0);return parseInt(c[(d._slidesHorizontal?(f?12:4):(f?13:5))],10)},_getCSS3Prop:function(e,d){var c=this;return c._useCSS3Transitions?c._tPref1+(d?(e+c._tPref2+0):(0+c._tPref2+e))+c._tPref3:e},_animationComplete:function(d){var c=this;if(!c._isMove){c._currHolder.css("z-index",0);c._fadeZIndex=10}c._isAnimating=false;c.staticSlideId=c.currSlideId;c._updateBlocksContent();c._slidesMoved=false;c.ev.trigger("rsAfterSlideChange")},_doBackAndForthAnim:function(f,h){var c=this,e=(-c._realId-c._idOffset)*c._slideSize;if(c.numSlides===0||c._isAnimating){return}if(c.st.loopRewind){c.goTo(f==="left"?c.numSlides-1:0,h);return}if(c._isMove){c._currAnimSpeed=200;function g(){c._isAnimating=false}function d(){c._isAnimating=false;c._animateTo(e,"",false,true,g)}c._animateTo(e+(f==="left"?30:-30),"",false,true,d)}},_resizeImage:function(c,u){var o=true;if(c.isRendered){return}var v=c.content;var s="rsMainSlideImage";var p;var n=this,l=n.st.imageAlignCenter,k=n.st.imageScaleMode,r;if(c.videoURL){s="rsVideoContainer";if(k!=="fill"){p=true}else{r=v;if(!r.hasClass(s)){r=r.find("."+s)}r.css({width:"100%",height:"100%"});s="rsMainSlideImage"}}if(!v.hasClass(s)){o=false;v=v.find("."+s)}if(!v){return}var i=c.iW,e=c.iH;c.isRendered=true;if(k==="none"&&!l){return}if(k!=="fill"){bMargin=n._imagePadding}else{bMargin=0}var j=n._wrapWidth-bMargin*2,m=n._wrapHeight-bMargin*2,f,d,g,h,q,t={};if(k==="fit-if-smaller"){if(i>j||e>m){k="fit"}}if(k==="fill"||k==="fit"){f=j/i;d=m/e;if(k=="fill"){g=f>d?f:d}else{if(k=="fit"){g=f<d?f:d}else{g=1}}h=Math.ceil(i*g,10);q=Math.ceil(e*g,10)}else{h=i;q=e}if(k!=="none"){t.width=h;t.height=q;if(p){v.find(".rsImg").css({width:"100%",height:"100%"})}}if(l){t.marginLeft=Math.floor((j-h)/2)+bMargin;t.marginTop=Math.floor((m-q)/2)+bMargin}v.css(t)}};b.rsProto=a.prototype;b.fn.royalSlider=function(d){var c=arguments;return this.each(function(){var f=b(this);if(typeof d==="object"||!d){if(!f.data("royalSlider")){f.data("royalSlider",new a(f,d))}}else{var e=f.data("royalSlider");if(e&&e[d]){return e[d].apply(e,Array.prototype.slice.call(c,1))}}})};b.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:false,loopRewind:false,numImagesToPreload:4,fadeinLoadedSlide:true,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:true,arrowsNav:true,arrowsNavAutoHide:true,navigateByClick:true,randomizeSlides:false,sliderDrag:true,sliderTouch:true,keyboardNavEnabled:false,fadeInAfterLoaded:true,allowCSS3:true,allowCSS3OnWebkit:true,addActiveClass:false,autoHeight:false,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:true,imageScalePadding:4,usePreloader:true,autoScaleSlider:false,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:true,arrowsNavHideOnTouch:false,globalCaption:false,slidesDiff:2};b.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"};b.extend(jQuery.easing,{easeInOutSine:function(f,g,e,i,h){return -i/2*(Math.cos(Math.PI*g/h)-1)+e},easeOutSine:function(f,g,e,i,h){return i*Math.sin(g/h*(Math.PI/2))+e},easeOutCubic:function(f,g,e,i,h){return i*((g=g/h-1)*g*g+1)+e}})})(jQuery,window);(function(a){a.rsProto._initActiveClass=function(){var d,c=this,b="rsActiveSlide";if(c.st.addActiveClass){c.ev.on("rsOnUpdateNav",function(){if(d){clearTimeout(d)}d=setTimeout(function(){if(c._oldHolder){c._oldHolder.removeClass(b)}if(c._currHolder){c._currHolder.addClass(b)}d=null},50)})}};a.rsModules.activeClass=a.rsProto._initActiveClass})(jQuery);(function(a){a.extend(a.rsProto,{_initDeeplinking:function(){var c=this,h,e,f;c._hashDefaults={enabled:false,change:false,prefix:""};c.st.deeplinking=a.extend({},c._hashDefaults,c.st.deeplinking);if(c.st.deeplinking.enabled){var d=c.st.deeplinking.change,g="#"+c.st.deeplinking.prefix,b=function(){var j=window.location.hash;if(j){j=parseInt(j.substring(g.length),10);if(j>=0){return j-1}}return -1};var i=b();if(i!==-1){c.st.startSlideId=i}if(d){a(window).on("hashchange"+c.ns,function(j){if(!h){var k=b();if(k<0){return}if(k>c.numSlides-1){k=c.numSlides-1}c.goTo(k)}});c.ev.on("rsBeforeAnimStart",function(){if(e){clearTimeout(e)}if(f){clearTimeout(f)}});c.ev.on("rsAfterSlideChange",function(){if(e){clearTimeout(e)}if(f){clearTimeout(f)}f=setTimeout(function(){h=true;window.location.replace((""+window.location).split("#")[0]+g+(c.currSlideId+1));e=setTimeout(function(){h=false;e=null},60)},400)})}c.ev.on("rsBeforeDestroy",function(){f=null;e=null;if(d){a(window).off("hashchange"+c.ns)}})}}});a.rsModules.deeplinking=a.rsProto._initDeeplinking})(jQuery);(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}e.attachEvent&&!e.addEventListener&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);(function(a){a.extend(a.rsProto,{_initThumbs:function(){var b=this;if(b.st.controlNavigation==="thumbnails"){b._thumbsDefaults={drag:true,touch:true,orientation:"horizontal",navigation:true,arrows:true,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:false,appendSpan:false,transitionSpeed:600,autoCenter:true,fitInViewport:true,firstMargin:true,paddingTop:0,paddingBottom:0};b.st.thumbs=a.extend({},b._thumbsDefaults,b.st.thumbs);b._firstThumbMoved=true;if(b.st.thumbs.firstMargin===false){b.st.thumbs.firstMargin=0}else{if(b.st.thumbs.firstMargin===true){b.st.thumbs.firstMargin=b.st.thumbs.spacing}}b.ev.on("rsBeforeParseNode",function(f,c,d){c=a(c);d.thumbnail=c.find(".rsTmb").remove();if(!d.thumbnail.length){d.thumbnail=c.attr("data-rsTmb");if(!d.thumbnail){d.thumbnail=c.find(".rsImg").attr("data-rsTmb")}if(!d.thumbnail){d.thumbnail=""}else{d.thumbnail='<img src="'+d.thumbnail+'"/>'}}else{d.thumbnail=a(document.createElement("div")).append(d.thumbnail).html()}});b.ev.one("rsAfterPropsSetup",function(){b._createThumbs()});b._prevNavItem=null;b.ev.on("rsOnUpdateNav",function(){var c=a(b._controlNavItems[b.currSlideId]);if(c===b._prevNavItem){return}if(b._prevNavItem){b._prevNavItem.removeClass("rsNavSelected");b._prevNavItem=null}if(b._thumbsNavigation){b._setCurrentThumb(b.currSlideId)}b._prevNavItem=c.addClass("rsNavSelected")});b.ev.on("rsOnAppendSlide",function(g,f,c){var d="<div"+b._thumbsMargin+' class="rsNavItem rsThumb">'+b._addThumbHTML+f.thumbnail+"</div>";if(c>=b.numSlides){b._thumbsContainer.append(d)}else{b._controlNavItems.eq(c).before(d)}b._controlNavItems=b._thumbsContainer.children();b.updateThumbsSize()});b.ev.on("rsOnRemoveSlide",function(f,c){var d=b._controlNavItems.eq(c);if(d){d.remove();b._controlNavItems=b._thumbsContainer.children();b.updateThumbsSize()}})}},_createThumbs:function(){var l=this,d="rsThumbs",h=l.st.thumbs,f="",b,k,j=h.spacing;l._controlNavEnabled=true;l._thumbsHorizontal=(h.orientation==="vertical")?false:true;l._thumbsMargin=b=j?' style="margin-'+(l._thumbsHorizontal?"right":"bottom")+":"+j+'px;"':"";l._thumbsPosition=0;l._isThumbsAnimating=false;l._thumbsDrag=false;l._thumbsNavigation=false;l._thumbsArrows=(h.arrows&&h.navigation);var e=(l._thumbsHorizontal?"Hor":"Ver");l.slider.addClass("rsWithThumbs rsWithThumbs"+e);f+='<div class="rsNav rsThumbs rsThumbs'+e+'"><div class="'+d+'Container">';l._addThumbHTML=h.appendSpan?'<span class="thumbIco"></span>':"";for(var g=0;g<l.numSlides;g++){k=l.slides[g];f+="<div"+b+' class="rsNavItem rsThumb">'+k.thumbnail+l._addThumbHTML+"</div>"}f=a(f+"</div></div>");var c={};if(h.paddingTop){c[l._thumbsHorizontal?"paddingTop":"paddingLeft"]=h.paddingTop}if(h.paddingBottom){c[l._thumbsHorizontal?"paddingBottom":"paddingRight"]=h.paddingBottom}f.css(c);l._thumbsContainer=a(f).find("."+d+"Container");if(l._thumbsArrows){d+="Arrow";if(h.arrowLeft){l._thumbsArrowLeft=h.arrowLeft}else{l._thumbsArrowLeft=a('<div class="'+d+" "+d+'Left"><div class="'+d+'Icn"></div></div>');f.append(l._thumbsArrowLeft)}if(h.arrowRight){l._thumbsArrowRight=h.arrowRight}else{l._thumbsArrowRight=a('<div class="'+d+" "+d+'Right"><div class="'+d+'Icn"></div></div>');f.append(l._thumbsArrowRight)}l._thumbsArrowLeft.click(function(){var i=Math.floor(l._thumbsViewportSize/l._thumbSize),m=Math.floor(l._thumbsPosition/l._thumbSize),n=(m+l._visibleThumbsPerView)*l._thumbSize;l._animateThumbsTo(n>l._thumbsMinPosition?l._thumbsMinPosition:n)});l._thumbsArrowRight.click(function(){var i=Math.floor(l._thumbsViewportSize/l._thumbSize),m=Math.floor(l._thumbsPosition/l._thumbSize),n=(m-l._visibleThumbsPerView)*l._thumbSize;l._animateThumbsTo(n<l._thumbsMaxPosition?l._thumbsMaxPosition:n)});if(h.arrowsAutoHide&&!l.hasTouch){l._thumbsArrowLeft.css("opacity",0);l._thumbsArrowRight.css("opacity",0);f.one("mousemove.rsarrowshover",function(){if(l._thumbsNavigation){l._thumbsArrowLeft.css("opacity",1);l._thumbsArrowRight.css("opacity",1)}});f.hover(function(){if(l._thumbsNavigation){l._thumbsArrowLeft.css("opacity",1);l._thumbsArrowRight.css("opacity",1)}},function(){if(l._thumbsNavigation){l._thumbsArrowLeft.css("opacity",0);l._thumbsArrowRight.css("opacity",0)}})}}l._controlNav=f;l._controlNavItems=l._thumbsContainer.children();if(l.msEnabled&&l.st.thumbs.navigation){l._thumbsContainer.css("-ms-touch-action",l._thumbsHorizontal?"pan-y":"pan-x")}l.slider.append(f);l._thumbsEnabled=true;l._thumbsSpacing=j;if(h.navigation){if(l._useCSS3Transitions){l._thumbsContainer.css(l._vendorPref+"transition-property",l._vendorPref+"transform")}}l._controlNav.on("click.rs",".rsNavItem",function(i){if(!l._thumbsDrag){l.goTo(a(this).index())}});l.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){l._realWrapSize=l._thumbsHorizontal?l._wrapHeight:l._wrapWidth;l.updateThumbsSize(true)})},updateThumbsSize:function(c){var d=this,b=d._controlNavItems.first(),g={};var f=d._controlNavItems.length;d._thumbSize=(d._thumbsHorizontal?b.outerWidth():b.outerHeight())+d._thumbsSpacing;d._thumbsContainerSize=f*d._thumbSize-d._thumbsSpacing;g[d._thumbsHorizontal?"width":"height"]=d._thumbsContainerSize+d._thumbsSpacing;d._thumbsViewportSize=d._thumbsHorizontal?d._controlNav.width():d._controlNav.height();d._thumbsMaxPosition=-(d._thumbsContainerSize-d._thumbsViewportSize)-(d.st.thumbs.firstMargin);d._thumbsMinPosition=d.st.thumbs.firstMargin;d._visibleThumbsPerView=Math.floor(d._thumbsViewportSize/d._thumbSize);if(d._thumbsContainerSize<d._thumbsViewportSize){if(d.st.thumbs.autoCenter){d._setThumbsPosition((d._thumbsViewportSize-d._thumbsContainerSize)/2)}if(d.st.thumbs.arrows&&d._thumbsArrowLeft){var e="rsThumbsArrowDisabled";d._thumbsArrowLeft.addClass(e);d._thumbsArrowRight.addClass(e)}d._thumbsNavigation=false;d._thumbsDrag=false;d._controlNav.off(d._downEvent)}else{if(d.st.thumbs.navigation&&!d._thumbsNavigation){d._thumbsNavigation=true;if((!d.hasTouch&&d.st.thumbs.drag)||(d.hasTouch&&d.st.thumbs.touch)){d._thumbsDrag=true;d._controlNav.on(d._downEvent,function(h){d._onDragStart(h,true)})}}}if(d._useCSS3Transitions){g[(d._vendorPref+"transition-duration")]="0ms"}d._thumbsContainer.css(g);if(d._thumbsEnabled&&(d.isFullscreen||d.st.thumbs.fitInViewport)){if(d._thumbsHorizontal){d._wrapHeight=d._realWrapSize-d._controlNav.outerHeight()}else{d._wrapWidth=d._realWrapSize-d._controlNav.outerWidth()}}},setThumbsOrientation:function(d,c){var b=this;if(b._thumbsEnabled){b.st.thumbs.orientation=d;b._controlNav.remove();b.slider.removeClass("rsWithThumbsHor rsWithThumbsVer");b._createThumbs();b._controlNav.off(b._downEvent);if(!c){b.updateSliderSize(true)}}},_setThumbsPosition:function(c){var b=this;b._thumbsPosition=c;if(b._useCSS3Transitions){b._thumbsContainer.css(b._xProp,b._tPref1+(b._thumbsHorizontal?(c+b._tPref2+0):(0+b._tPref2+c))+b._tPref3)}else{b._thumbsContainer.css(b._thumbsHorizontal?b._xProp:b._yProp,c)}},_animateThumbsTo:function(h,g,f,e,c){var d=this;if(!d._thumbsNavigation){return}if(!g){g=d.st.thumbs.transitionSpeed}d._thumbsPosition=h;if(d._thumbsAnimTimeout){clearTimeout(d._thumbsAnimTimeout)}if(d._isThumbsAnimating){if(!d._useCSS3Transitions){d._thumbsContainer.stop()}f=true}var b={};d._isThumbsAnimating=true;if(!d._useCSS3Transitions){b[d._thumbsHorizontal?d._xProp:d._yProp]=h+"px";d._thumbsContainer.animate(b,g,f?"easeOutCubic":d.st.easeInOut)}else{b[(d._vendorPref+"transition-duration")]=g+"ms";b[(d._vendorPref+"transition-timing-function")]=f?a.rsCSS3Easing[d.st.easeOut]:a.rsCSS3Easing[d.st.easeInOut];d._thumbsContainer.css(b);d._setThumbsPosition(h)}if(e){d._thumbsPosition=e}d._updateThumbsArrows();d._thumbsAnimTimeout=setTimeout(function(){d._isThumbsAnimating=false;if(c){d._animateThumbsTo(e,c,true);c=null}},g)},_updateThumbsArrows:function(){var b=this;if(b._thumbsArrows){var c="rsThumbsArrowDisabled";if(b._thumbsPosition===b._thumbsMinPosition){b._thumbsArrowLeft.addClass(c)}else{b._thumbsArrowLeft.removeClass(c)}if(b._thumbsPosition===b._thumbsMaxPosition){b._thumbsArrowRight.addClass(c)}else{b._thumbsArrowRight.removeClass(c)}}},_setCurrentThumb:function(i,e){var c=this,h=0,d,g=(i*c._thumbSize+c._thumbSize*2-c._thumbsSpacing+c._thumbsMinPosition),b=Math.floor(c._thumbsPosition/c._thumbSize);if(!c._thumbsNavigation){return}if(c._firstThumbMoved){e=true;c._firstThumbMoved=false}if(g+c._thumbsPosition>c._thumbsViewportSize){if(i===c.numSlides-1){h=1}b=-i+c._visibleThumbsPerView-2+h;d=b*c._thumbSize+(c._thumbsViewportSize%c._thumbSize)+c._thumbsSpacing-c._thumbsMinPosition}else{if(i!==0){if((i-1)*c._thumbSize<=-c._thumbsPosition+c._thumbsMinPosition&&(i-1)<=c.numSlides-c._visibleThumbsPerView){b=-i+1;d=b*c._thumbSize+c._thumbsMinPosition}}else{b=0;d=c._thumbsMinPosition}}if(d!==c._thumbsPosition){var f=(d===undefined)?c._thumbsPosition:d;if(f>c._thumbsMinPosition){c._setThumbsPosition(c._thumbsMinPosition)}else{if(f<c._thumbsMaxPosition){c._setThumbsPosition(c._thumbsMaxPosition)}else{if(d!==undefined){if(!e){c._animateThumbsTo(d)}else{c._setThumbsPosition(d)}}}}}c._updateThumbsArrows()}});a.rsModules.thumbnails=a.rsProto._initThumbs})(jQuery);